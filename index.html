<script src="data.js"></script>
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>ระบบประเมินการแพ้ยา</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    /* เผื่อยังไม่มี style.css */
    body { font-family: sans-serif; background:#f3f4f6; margin:0; }
    header { background: linear-gradient(90deg, #7c3aed, #ec4899); color:white; padding:1rem 1.5rem; }
    .tabs { display:flex; gap:.5rem; background:white; padding:.5rem 1rem; border-bottom:1px solid #ddd; }
    .tabs button { background:#eef; border:0; padding:.5rem .75rem; border-radius:.5rem; cursor:pointer; }
    .tabs button.active { background:#7c3aed; color:white; }
    .page { display:none; padding:1.5rem; }
    .page.active { display:block; }
    label { display:block; margin-bottom:.5rem; }
    input, select, textarea { width:100%; max-width:400px; margin-top:.25rem; padding:.35rem .5rem; }
  </style>
</head>
<body>
  <header>
    <h1>ระบบประเมินการแพ้ยา</h1>
    <p>โรงพยาบาลพระอาจารย์ฝั้น อาจาโร</p>
  </header>

  <!-- ปุ่มสลับ 6 หน้า -->
  <div class="tabs">
    <button onclick="showPage('p1')" id="tab-p1" class="active">หน้า 1 ผิวหนัง</button>
    <button onclick="showPage('p2')" id="tab-p2">หน้า 2 ระบบอื่นๆ</button>
    <button onclick="showPage('p3')" id="tab-p3">หน้า 3 ผล Lab</button>
    <button onclick="showPage('p4')" id="tab-p4">หน้า 4 Naranjo</button>
    <button onclick="showPage('p5')" id="tab-p5">หน้า 5 Timeline</button>
    <button onclick="showPage('p6')" id="tab-p6">หน้า 6 สรุปผล</button>
  </div>

  <!-- เนื้อหาแต่ละหน้า -->
  <main>
    <section id="p1" class="page active">
      <!-- ของจริงจะไปอยู่ใน page1.js -->
      <h2>หน้า 1 ระบบผิวหนัง</h2>
      <div id="page1-root"></div>
    </section>

    <section id="p2" class="page">
      <h2>หน้า 2 ระบบอื่นๆ</h2>
      <div id="page2-root"></div>
    </section>

    <section id="p3" class="page">
      <h2>หน้า 3 ผลตรวจทางห้องปฏิบัติการ</h2>
      <div id="page3-root"></div>
    </section>

    <section id="p4" class="page">
      <h2>หน้า 4 Naranjo</h2>
      <div id="page4-root"></div>
    </section>

    <section id="p5" class="page">
      <h2>หน้า 5 Timeline</h2>
      <div id="page5-root"></div>
    </section>

    <section id="p6" class="page">
      <h2>หน้า 6 ผลการประเมิน</h2>
      <div id="page6-root"></div>
      <button onclick="renderSummary()">ดึงข้อมูลจากหน้า 1–5</button>
      <div id="summary-box" style="margin-top:1rem;"></div>
    </section>
  </main>

  <!-- 1) โหลดตัวแปรกลางก่อน -->
  <script src="data.js"></script>

  <!-- 2) โหลดแต่ละหน้า -->
  <script src="page1.js"></script>
  <script src="page2.js"></script>
  <script src="page3.js"></script>
  <script src="page4.js"></script>
  <script src="page5.js"></script>
  <script src="page6.js"></script>

  <!-- 3) ฟังก์ชันสลับหน้า -->
  <script>
    function showPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.getElementById('tab-' + id).classList.add('active');
    }
  </script>
</body>
</html>
