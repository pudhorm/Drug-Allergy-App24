<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡πâ‡∏¢‡∏≤ 6 ‡∏´‡∏ô‡πâ‡∏≤</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <!-- ‡∏Å‡∏±‡∏ô error favicon 404 -->
  <link rel="icon" href="data:," />
</head>

<body>
  <header class="topbar">
    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡πâ‡∏¢‡∏≤</h1>
    <p class="hospital-badge">‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏û‡∏£‡∏∞‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ù‡∏±‡πâ‡∏ô ‡∏≠‡∏≤‡∏à‡∏≤‡πÇ‡∏£</p>
  </header>

  <!-- ‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤ -->
  <nav class="tabs">
    <button data-target="page1" class="active">‡∏´‡∏ô‡πâ‡∏≤ 1 ‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á</button>
    <button data-target="page2">‡∏´‡∏ô‡πâ‡∏≤ 2 ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô</button>
    <button data-target="page3">‡∏´‡∏ô‡πâ‡∏≤ 3 Lab</button>
    <button data-target="page4">‡∏´‡∏ô‡πâ‡∏≤ 4 Naranjo</button>
    <button data-target="page5">‡∏´‡∏ô‡πâ‡∏≤ 5 Timeline</button>
    <button data-target="page6">‡∏´‡∏ô‡πâ‡∏≤ 6 ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</button>
  </nav>

  <main>
    <!-- ‡∏´‡∏ô‡πâ‡∏≤ 1‚Äì4 ‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏•‡πå JS ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏á -->
    <section id="page1" class="page visible"></section>
    <section id="page2" class="page"></section>
    <section id="page3" class="page"></section>
    <section id="page4" class="page"></section>

    <!-- ===== ‡∏´‡∏ô‡πâ‡∏≤ 5: ‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö page5.js ===== -->
    <section id="page5" class="page">
      <div class="p5-wrapper">
        <div class="p5-header-line">
          <h2>üìÖ ‡∏´‡∏ô‡πâ‡∏≤ 5 Timeline ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡πâ‡∏¢‡∏≤</h2>
          <div class="p5-btn-group">
            <button id="p5AddDrugBtn" type="button" class="p5-btn-add-drug">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏¢‡∏≤</button>
            <button id="p5AddAdrBtn" type="button" class="p5-btn-add-adr">+ ‡πÄ‡∏û‡∏¥‡πà‡∏° ADR</button>
          </div>
        </div>

        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤ -->
        <div class="p5-form-block">
          <h3 style="margin-top:0;">üíä ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤</h3>
          <div id="p5DrugCards"></div>
        </div>

        <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ADR -->
        <div class="p5-form-block" style="margin-top:.5rem;">
          <h3 style="margin-top:0;">üß™ ADR (Adverse Drug Reaction)</h3>
          <div id="p5AdrCards"></div>
        </div>

        <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á timeline -->
        <div class="p5-timeline-box" style="margin-top:1rem;">
          <h3>Visual Timeline</h3>
          <div id="p5TimelineScroll">
            <div id="p5DateRow"></div>

            <div class="p5-lane">
              <div class="p5-lane-label">‡∏¢‡∏≤</div>
              <div id="p5DrugLane"></div>
            </div>
            <div class="p5-lane">
              <div class="p5-lane-label p5-lane-adr">ADR</div>
              <div id="p5AdrLane"></div>
            </div>
          </div>
        </div>

        <div class="p5-footer-btns">
          <button type="button" class="p5-clear" onclick="window.renderPage5 && window.renderPage5()">‡∏•‡πâ‡∏≤‡∏á & ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà</button>
          <button type="button" class="p5-next" onclick="showPage && showPage('page6')">‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ 6 (‡∏™‡∏£‡∏∏‡∏õ)</button>
        </div>
      </div>
    </section>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤ 6: ‡πÉ‡∏´‡πâ page6.js ‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ -->
    <section id="page6" class="page">
      <div id="p6Root"></div>
    </section>
  </main>

  <!-- ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å -->
  <script src="data.js"></script>
  <script src="page1.js"></script>
  <script src="page2.js"></script>
  <script src="page3.js"></script>
  <script src="page4.js"></script>
  <script src="page5.js"></script>
  <script src="page6.js"></script>

  <script>
    // ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏∏‡∏Å‡∏õ‡∏∏‡πà‡∏°
    const tabBtns = document.querySelectorAll(".tabs button");
    const pages = document.querySelectorAll(".page");

    let page2Rendered = false;
    let page3Rendered = false;
    let page4Rendered = false;

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ (‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏•‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ 5)
    function showPage(targetId) {
      // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô active ‡∏õ‡∏∏‡πà‡∏°
      tabBtns.forEach((b) => {
        if (b.dataset.target === targetId) {
          b.classList.add("active");
        } else {
          b.classList.remove("active");
        }
      });

      // ‡∏ã‡πà‡∏≠‡∏ô/‡πÇ‡∏ä‡∏ß‡πå‡∏´‡∏ô‡πâ‡∏≤
      pages.forEach((p) => p.classList.remove("visible"));
      const targetPage = document.getElementById(targetId);
      if (targetPage) targetPage.classList.add("visible");

      // call render ‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤
      if (targetId === "page2" && window.renderPage2 && !page2Rendered) {
        window.renderPage2();
        page2Rendered = true;
      }
      if (targetId === "page3" && window.renderPage3 && !page3Rendered) {
        window.renderPage3();
        page3Rendered = true;
      }
      if (targetId === "page4" && window.renderPage4 && !page4Rendered) {
        window.renderPage4();
        page4Rendered = true;
      }
      if (targetId === "page5" && window.renderPage5) {
        window.renderPage5();
      }
      if (targetId === "page6" && window.renderPage6) {
        window.renderPage6();
      }
    }

    // ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ
    window.showPage = showPage;

    // ‡∏ú‡∏π‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ó‡πá‡∏ö
    tabBtns.forEach((btn) => {
      btn.addEventListener("click", () => {
        const target = btn.dataset.target;
        showPage(target);
      });
    });

    // ‡∏´‡∏ô‡πâ‡∏≤ 1 ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
    if (window.renderPage1) {
      window.renderPage1();
    } else {
      document.getElementById("page1").innerHTML = "<p>‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤ 1 ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</p>";
    }
  </script>
</body>
</html>
